---
layout: post
title: Are HTTP headers case-sensitive?
date: 2023-10-16 20:55:00 +0800
categories: [Blogging]
tags:
---

## í”„ë¡ íŠ¸ì—”ë“œì—†ì´ api í…ŒìŠ¤íŠ¸

Postmanì„ ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šì•„ì„œ MacBookì˜ ê¸°ë³¸ curl ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ APIë¥¼ í…ŒìŠ¤íŠ¸  
ë©”ì†Œë“œ, í—¤ë” , ë°”ë”” ë„£ì–´ì„œ POST ìš”ì²­

#### 1. Content-Type application/x-www-form-urlencoded

<!-- client URL" curl 1997ë…„ -->

> í…ŒìŠ¤íŠ¸í•˜ê¸°ìœ„í•´  
> -X (--request <GET,POST,PUT,PATH,DELETE> ìš”ì²­ì‹œ ì‚¬ìš©í•  ë©”ì†Œë“œ)  
> -d (--data <http post ìš”ì²­ ë°ì´í„° ì…ë ¥> )  
> -H (--header <POSTì˜ ê¸°ë³¸ Content-Type ì€ application/x-www-form-urlencoded ì´ë‹¤  
> ì¶œì²˜: https://inpa.tistory.com/entry/LINUX-ğŸ“š-CURL-ëª…ë ¹ì–´-ì‚¬ìš©ë²•-ë‹¤ì–‘í•œ-ì˜ˆì œë¡œ-ì •ë¦¬#curl_http_ë©”ì„œë“œ [Inpa Dev ğŸ‘¨â€ğŸ’»:í‹°ìŠ¤í† ë¦¬]>)

POSTì˜ ê¸°ë³¸ íƒ€ì… ë„£ì—ˆë”ë‹ˆ dbì— Nullì´ ì°í˜

#### 2. bodyì— ë„£ì„ ë°ì´í„°ê°€ text/html ì¸ì¤„ì•Œì•˜ëŠ”ë° nullì´ ì°í˜

```console
curl -I localhost:3000/register
HTTP/1.1 200 OK
X-Powered-By: Express
Content-Type: text/html; charset=utf-8
Content-Length: 1542
ETag: W/"606-Q85bpMcLB39mgcBvBduYykU274I"
Date: Wed, 24 Jan 2024 16:00:23 GMT
Connection: keep-alive
Keep-Alive: timeout=5
```

<!-- node.js express res.send()ëŠ” promiseë¥¼ ë°˜í™˜í•˜ì§€ ì•Šsmsek  -->

#### 3. "Content-Type: application/json"

fetch ë¥¼ ì‚¬ìš©í• ë•Œ ì„œë²„ë¡œë¶€í„° json ë°ì´í„°ë¥¼ ë°›ê¸° ìœ„í•´ì„œ res.json()ì„ ì‚¬ìš©

<!-- res.json() -->

ì¶œì²˜: https://haeguri.github.io/2018/12/30/compare-response-json-send-func/  
ë°”ë””ì— "Content-Type: application/json" í—¤ë”ë¥¼ ë„£ì—ˆë”ë‹ˆ ê°’ì´ ì œëŒ€ë¡œ ì €ì¥ë˜ì—ˆë‹¤.

# í—¤ë”ëŠ” ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë³„í•˜ëŠ”ê°€?

```zsh
curl localhost:3000/register -X POST -d '{"id":"test","pw":"1234","name":"test"}' -H 'content-type: application/json'
{"success":true}%

curl localhost:3000/register -X post -d '{"id":"123","pw":"123","name":"123"}' -H 'content-type: text/html'
  post ì†Œë¬¸ìë¡œ ì‹¤íŒ¨

curl localhost:3000/register -X POST -d '{"id":"123","pw":"123","name":"123"}' -H 'content-type: text/html'
{"success":true}%
```

HTTP í”„ë¡œí† ì½œì€ í—¤ë” ì´ë¦„ì˜ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë³„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ "content-type"ê³¼ "Content-Type"ì€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ì´ëŠ” HTTP/1.1 ìŠ¤í™ì— ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.

í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ HTTP ìš”ì²­ì„ ë³´ë‚¼ ë•Œ, í—¤ë”ì˜ ì´ë¦„ì„ ì§€ì •í•  ë•Œì—ë„ ëŒ€ì†Œë¬¸ìë¥¼ ë§ˆìŒëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë²„ëŠ” ì´ë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê³  ì²˜ë¦¬í•  ê²ƒì´ë¼ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìš”ì•½í•˜ìë©´, HTTP í‘œì¤€ì— ë”°ë¥´ë©´ í—¤ë”ì˜ ëŒ€ì†Œë¬¸ìëŠ” êµ¬ë³„ë˜ì§€ ì•Šì§€ë§Œ, ì‹¤ì œë¡œëŠ” êµ¬í˜„ì²´ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.
