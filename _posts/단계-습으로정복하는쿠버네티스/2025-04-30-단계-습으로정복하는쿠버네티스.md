---
layout: post
title: "24단계실습으로정복하는쿠버네티스"
date: 2025-04-30 12:03:14 +0900
categories: []
tags: []
---

2부
쿠버네티스 서비스 디스커버리 기능을 활용해 파드가 재시작되어도 자동으로 파드를 서비스에 등록합니다. 파드 간 통신에는 변경 가능한 ip주소를 사용하지 않고 고정된 서비스 이름 도메인을 사용합니다.
서비스타입은 클러스터 내부파드 간에 통신하는 클러스터 ip와 헤드리스, 클러스터 외부에서 내부의 파드로 통신하는 노드포트와 로드밸런서로 나뉩니다.
nginx,busybox 파드와 클러스터ip타입의서비스를 이용해 파드간통신을검증했습니다.nginx파드를삭제하고 증가시키는 실습으로 자동으로 파드를 등록하는 서비스 디스커버리 기능을 검증했습니다.
파드 간 통신에 사용되는 쿠버네티스 코어dns 로컬 dns 설정을 확인했습니다. 서비스 이름을 dns도메인으로 등록하며,서로다른 네임스페이스에서는 네임스페이스 이름까지 서비스 이름에 추가해서 파드 간에 연결합니다.
노드포트타입의서비스를 생성해서 클러스터 외부의 개인pc에서 내부의 nginx파드를 연결하는 실습을 진행했습니다. 쿠버네티스 서비스는 호스트 운영체제의 커널 레벨의 넷필터 기능을 이용해 ipvs모드로 파드의 부하분산 기능을 제공합니다.

