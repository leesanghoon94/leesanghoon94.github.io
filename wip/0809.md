모니터링이란?
지속적인 관찰을 통해 모니터링 대상의 상태나 가용성,변화 등을 확인하고 예상하지 못한 상황과 오류에 대비하는것

- 클라우드 모니터링
- 시스템모니터링 -데이터베이스 모니터링
- apm
- ui모니터링
- ci모니터링 -보안모니터링

observability가 필요한 이유

- 사전 분석을 통해 장애를 방지합니다.
- 다운 타임 최소화로 손실 방지
- 생산성 및 성능의 향상
- 모니터링을 통해 IT비용 예산 수립 가능
- 데이터 기반의 의사결정 가능

openTelemetry란?
trace,metric,log 같은 Telemetry 데이터를 INSTrumenting, generation, collecting,exporting 하기 위한 특정 벤더에 종속되지 않은 오픈소스

- iaas 수준에서 제공되는 서비스에 대한 모니터링
- 서버의 상태나 시스템에서 발생한 이벤트를 모니터링 할 수 있음
- 데이터베이스 혹은 네트워크 흐름을 모니터링하여 병목 지점을 찾을수 있음

어플리케이션 수준에서의 모니터링
부산된 여러 클라우드 기반 앱을 한 시스템 혹은 대시보드에서 모니터링
인프라 수준 지표 뿐 아니라 비즈니읏 트랜잭션 및 코드 레벨까지 모니터링
각 서비스 구간 별로 성능을 기록해 병목을 파악하고 대응 (TRACe-span 구조)

로그 수준에서의 모니터링
어플리케이션 혹은 액세스 로그등의 요소를 수집하여 로그와 메트릭을 조합하여 특정 시점에서 발생한 오류에 대해 인사이트를 ㅏㅈ아낼수있음
SLO와 sli
서비스가 잘 돌아간다 혹은 성능이 좋다라는 객관적기준을 뭘까?
즉, 서비스를 운영함에 있어 데이터를 기반한 의사 결정을 해야함
SLI서비스 수준의 척도와 SLo 서비스 수준의 목표
SLI는 서비스에 대한 수준을 측정하여 정량적으로 정의한 지표
SLO는 가지표에 대한 목표값 =sli + target value목표값

sli 서비스에 대한 수준을 측정한 지표
1주일간 10분의 장애로 서비스를 사용 못했을 경우, 가용성을 계산
1주일(7*24*60)-10분/1주일= 99.9007%의 가용성
평균값이나 중간 값보단 percentile에 따른 분포로 사용하는것을 추천
시스템에 따른 Sli로 사용할 만한 지표
b2c서비스: 가용성 ,응답시간, 처리량
스토리지 시스템: 가용성,응답시간,내구성
ml시스템: 서빙 응답시간,학습시간,처리량,가용성,서빙 정확도

slo 서비스에 대한 수준에 대한 목표치
Slo = sli <= 목표값 Or 하한값 <=sli<= 상한값
측정방식과 유효값의 기준이 명확해야함
slo는 서비스의 사용자 관점에서 서비스에 얼마나 영향을 주는 지에 대한 관점에서 결정
slo에 대한 5가지 조언
현재의 성능을 기준으로 목표치를 설정하지 말것
최대한 단순하게 생각할것
현실성 있는 목표치를 설정할것
시스템의 특성을 잘 확인할 수 있ㄴ느 가능한 적은 수의 Slo를 설정할 것
처음부터 완벽하게 하려고 하지 말것

ovservability = 모니터링을 통해 왜 현상이 일어났는지 분석하고 해결하는 접근방식
시스템의 SLI들을 모니털하고 측정하기
Sli를 SLo와 비교해서 대응이 필요한지 판단하기
대응이 필요한 경우,SLO를 달성하기 위해 어떻게 대응할지 파악하기
